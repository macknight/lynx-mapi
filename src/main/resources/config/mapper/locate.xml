<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.lynx.geo.service.dao.LocateDao">
    <resultMap id="locateResult" type="com.lynx.geo.entity.GeoPoint">
        <result property="lat" column="Lat"/>
        <result property="lng" column="Lng"/>
        <result property="acc" column="Acc"/>
    </resultMap>

	<select id="getCDMALocate" resultMap="locateResult">
		SELECT Lat, Lng, Acc FROM LM_CDMACoord
		WHERE MCC=#{mcc} AND SID=#{sid} AND NID=#{nid} AND BID=#{bid}
	</select>

    <select id="getGSMLocate" resultMap="locateResult">
        SELECT Lat, Lng, Acc FROM LM_GSMCoord
        WHERE MCC=#{mcc} AND MNC=#{mnc} AND LAC=#{lac} AND CID=#{cid}
    </select>

	<select id="getWifiLocate" resultMap="locateResult">
		SELECT Lat, Lng, Acc FROM LM_WifiCoord
		WHERE Mac IN
		<foreach collection="list" index="index" item="item" open="(" separator="," close=")">
			#{item}
		</foreach>
	</select>

</mapper>